<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 2024-10-29 mar 12:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Apuntes Sistemas Operativos</title>
<meta name="author" content="likcos" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/readtheorg.css"/>
<script type="text/javascript" src="src/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="src/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="src/readtheorg_theme/js/readtheorg.js"></script>
<style> #content{max-width:1800px;}</style>
<style>pre.src {background-color: #303030; color: #e5e5e5;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Apuntes Sistemas Operativos</h1>
<div id="table-of-contents" role="doc-toc">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org6a3e277">Concepto de proceso</a></li>
<li><a href="#orge3ab3ae">Comandos para manejar procesos en Linux</a>
<ul>
<li><a href="#org7d4a88c">1. Ver procesos activos</a></li>
<li><a href="#org077bd97">2. Iniciar procesos</a></li>
<li><a href="#orga40af8b">3. Controlar la ejecución de procesos</a></li>
<li><a href="#orgb41f0d4">4. Enviar señales a los procesos</a></li>
<li><a href="#org73157a4">5. Cambiar prioridad de procesos</a></li>
<li><a href="#org242dc1a">6. Ver detalles específicos de los procesos</a></li>
<li><a href="#org9dba24c">Ejemplo en C: Creación de un proceso utilizando fork()</a></li>
</ul>
</li>
<li><a href="#org160a526">Estados y transiciones de los procesos</a>
<ul>
<li><a href="#org1946092">Ejemplo en C: Simulación de transiciones de estados</a></li>
</ul>
</li>
<li><a href="#orged1ce32">Procesos ligeros: Hilos o hebras</a>
<ul>
<li><a href="#orgd41d68a">Ejemplo en C: Creación de hilos con pthread</a></li>
</ul>
</li>
<li><a href="#org52ad806">Concurrencia y secuenciabilidad</a>
<ul>
<li><a href="#orgef7ef7a">Ejemplo en C: Concurrencia y sincronización de tareas</a></li>
</ul>
</li>
<li><a href="#org0a0836c">Niveles, objetivos y criterios de planificación</a>
<ul>
<li><a href="#org4bc7295">Ejemplo en C: Implementación simple de planificación Round Robin</a></li>
</ul>
</li>
<li><a href="#orgea1f3b8">Técnicas de administración del planificador</a>
<ul>
<li><a href="#org2e57998">Ejemplo en C: Planificación simple basada en prioridades</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="outline-container-org6a3e277" class="outline-2">
<h2 id="org6a3e277">Concepto de proceso</h2>
<div class="outline-text-2" id="text-org6a3e277">
<p>
Un proceso es una unidad de ejecución dentro de un sistema
operativo. Cada proceso tiene su propio espacio de memoria, que
incluye el código del programa, sus datos y su pila. La creación de un
proceso implica varias operaciones del sistema operativo, como
asignación de memoria y registro en la tabla de procesos. Los procesos
permiten a los sistemas multitarea ejecutar múltiples programas de
forma aparentemente simultánea.
</p>
</div>
</div>


<div id="outline-container-orge3ab3ae" class="outline-2">
<h2 id="orge3ab3ae">Comandos para manejar procesos en Linux</h2>
<div class="outline-text-2" id="text-orge3ab3ae">
</div>
<div id="outline-container-org7d4a88c" class="outline-3">
<h3 id="org7d4a88c">1. Ver procesos activos</h3>
<div class="outline-text-3" id="text-org7d4a88c">
<ul class="org-ul">
<li>`ps`
Muestra una lista de procesos en la terminal actual. Ofrece información sobre el PID, usuario, CPU, memoria, etc.
<ul class="org-ul">
<li>Ejemplo: `ps aux` muestra todos los procesos en ejecución en el sistema.</li>
</ul></li>

<li>`top` 
Muestra una lista dinámica de procesos en tiempo real, actualizándose constantemente. Incluye el uso de CPU, memoria, y estadísticas del sistema.
<ul class="org-ul">
<li>Comando alternativo: `htop`, que ofrece una interfaz más visual y personalizable.</li>
</ul></li>

<li>`pgrep &lt;nombre&gt;`
Busca el PID (Process ID) de un proceso específico por su nombre. Útil para obtener el PID antes de aplicar otros comandos.
<ul class="org-ul">
<li>Ejemplo: `pgrep apache` muestra el PID del proceso con el nombre "apache".</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org077bd97" class="outline-3">
<h3 id="org077bd97">2. Iniciar procesos</h3>
<div class="outline-text-3" id="text-org077bd97">
<ul class="org-ul">
<li>`&amp;` 
Ejecuta un comando en segundo plano, permitiendo que el usuario continúe usando la terminal. 
<ul class="org-ul">
<li>Ejemplo: `comando &amp;` ejecuta el proceso en segundo plano.</li>
</ul></li>

<li>`nohup &lt;comando&gt; &amp;`
Inicia un proceso que continúa en ejecución incluso después de cerrar la terminal. El output se guarda en un archivo `nohup.out` por defecto.
<ul class="org-ul">
<li>Ejemplo: `nohup script.sh &amp;` ejecuta `script.sh` y permanece activo tras cerrar sesión.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orga40af8b" class="outline-3">
<h3 id="orga40af8b">3. Controlar la ejecución de procesos</h3>
<div class="outline-text-3" id="text-orga40af8b">
<ul class="org-ul">
<li>`fg` 
Trae un proceso en segundo plano al primer plano, permitiendo interactuar directamente con él.</li>

<li>`bg`
Envía un proceso suspendido al segundo plano, liberando la terminal para otros comandos.</li>

<li>`jobs`
Muestra los procesos en segundo plano o suspendidos asociados a la sesión de terminal actual, con su ID de trabajo (job ID).</li>
</ul>
</div>
</div>

<div id="outline-container-orgb41f0d4" class="outline-3">
<h3 id="orgb41f0d4">4. Enviar señales a los procesos</h3>
<div class="outline-text-3" id="text-orgb41f0d4">
<ul class="org-ul">
<li>`kill &lt;PID&gt;` 
Envía una señal de terminación al proceso especificado por su PID. Intenta cerrar el proceso de manera controlada.
<ul class="org-ul">
<li>Ejemplo: `kill 1234` termina el proceso con PID 1234.</li>
</ul></li>

<li>`kill -9 &lt;PID&gt;`
Fuerza el cierre inmediato del proceso especificado, sin esperar una terminación ordenada. Utiliza la señal `KILL`.
<ul class="org-ul">
<li>Ejemplo: `kill -9 1234`.</li>
</ul></li>

<li>`pkill &lt;nombre&gt;`
Termina todos los procesos que coinciden con el nombre especificado.
<ul class="org-ul">
<li>Ejemplo: `pkill apache` detiene todos los procesos con nombre "apache".</li>
</ul></li>

<li>`killall &lt;nombre&gt;`
Similar a `pkill`, detiene todos los procesos con un nombre específico.
<ul class="org-ul">
<li>Ejemplo: `killall httpd`.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org73157a4" class="outline-3">
<h3 id="org73157a4">5. Cambiar prioridad de procesos</h3>
<div class="outline-text-3" id="text-org73157a4">
<ul class="org-ul">
<li>`nice -n &lt;prioridad&gt; &lt;comando&gt;`
Inicia un proceso con una prioridad especificada, donde el rango va de -20 (mayor prioridad) a 19 (menor prioridad). La prioridad afecta el orden de planificación.
<ul class="org-ul">
<li>Ejemplo: `nice -n -10 script.sh` ejecuta `script.sh` con una prioridad alta.</li>
</ul></li>

<li>`renice &lt;prioridad&gt; &lt;PID&gt;`
Cambia la prioridad de un proceso en ejecución.
<ul class="org-ul">
<li>Ejemplo: `renice -5 1234` ajusta la prioridad del proceso con PID 1234.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org242dc1a" class="outline-3">
<h3 id="org242dc1a">6. Ver detalles específicos de los procesos</h3>
<div class="outline-text-3" id="text-org242dc1a">
<ul class="org-ul">
<li>`pstree`
Muestra los procesos en una estructura de árbol, permitiendo visualizar mejor las relaciones y jerarquías entre procesos en ejecución.</li>

<li>`lsof -p &lt;PID&gt;`
Lista todos los archivos abiertos por un proceso específico, útil para ver conexiones de red o archivos utilizados por un proceso.
<ul class="org-ul">
<li>Ejemplo: `lsof -p 1234` muestra los archivos abiertos por el proceso con PID 1234.</li>
</ul></li>
</ul>
</div>
</div>



<div id="outline-container-org9dba24c" class="outline-3">
<h3 id="org9dba24c">Ejemplo en C: Creación de un proceso utilizando fork()</h3>
<div class="outline-text-3" id="text-org9dba24c">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">stdio.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">unistd.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">sys/types.h</span><span style="color: #c099ff;">&gt;</span>

<span style="color: #ffc777;">int</span> <span style="color: #82aaff;">main</span><span style="color: #c099ff;">()</span> <span style="color: #c099ff;">{</span>
    <span style="color: #ffc777;">pid_t</span> <span style="color: #ff98a4;">pid</span> = fork<span style="color: #ff995e;">()</span>; <span style="color: #7a88cf;">// </span><span style="color: #7a88cf;">Crear un nuevo proceso</span>
    <span style="color: #c099ff;">if</span> <span style="color: #ff995e;">(</span>pid == 0<span style="color: #ff995e;">)</span> <span style="color: #ff995e;">{</span>
        printf<span style="color: #ff98a4;">(</span><span style="color: #c3e88d;">"Soy el proceso hijo con PID %d\n"</span>, getpid<span style="color: #b4f9f8;">()</span><span style="color: #ff98a4;">)</span>;
    <span style="color: #ff995e;">}</span> <span style="color: #c099ff;">else</span> <span style="color: #ff995e;">{</span>
        printf<span style="color: #ff98a4;">(</span><span style="color: #c3e88d;">"Soy el proceso padre con PID %d\n"</span>, getpid<span style="color: #b4f9f8;">()</span><span style="color: #ff98a4;">)</span>;
    <span style="color: #ff995e;">}</span>
    <span style="color: #c099ff;">return</span> 0;
<span style="color: #c099ff;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org160a526" class="outline-2">
<h2 id="org160a526">Estados y transiciones de los procesos</h2>
<div class="outline-text-2" id="text-org160a526">
<p>
Los procesos en un sistema operativo pueden estar en diferentes estados, que determinan si están utilizando la CPU, esperando, o listos para ejecutarse. Los estados comunes incluyen:
</p>
<ul class="org-ul">
<li><b><b>Nuevo</b></b>: El proceso está siendo creado.</li>
<li><b><b>Listo</b></b>: El proceso está listo para ejecutarse.</li>
<li><b><b>Ejecución</b></b>: El proceso está ejecutándose en la CPU.</li>
<li><b><b>Bloqueado</b></b>: El proceso está esperando un evento externo (por ejemplo, entrada/salida).</li>
<li><b><b>Terminado</b></b>: El proceso ha completado su ejecución.</li>
</ul>

<p>
Los sistemas operativos gestionan estas transiciones mediante una estructura de datos llamada tabla de procesos.
</p>
</div>

<div id="outline-container-org1946092" class="outline-3">
<h3 id="org1946092">Ejemplo en C: Simulación de transiciones de estados</h3>
<div class="outline-text-3" id="text-org1946092">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">stdio.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">unistd.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">stdlib.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">sys/wait.h</span><span style="color: #c099ff;">&gt;</span>

<span style="color: #ffc777;">int</span> <span style="color: #82aaff;">main</span><span style="color: #c099ff;">()</span> <span style="color: #c099ff;">{</span>
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Proceso creado\n"</span><span style="color: #ff995e;">)</span>;
    <span style="color: #ffc777;">pid_t</span> <span style="color: #ff98a4;">pid</span> = fork<span style="color: #ff995e;">()</span>;
    <span style="color: #c099ff;">if</span> <span style="color: #ff995e;">(</span>pid == 0<span style="color: #ff995e;">)</span> <span style="color: #ff995e;">{</span>
        printf<span style="color: #ff98a4;">(</span><span style="color: #c3e88d;">"Estado: Ejecuci&#243;n - Proceso hijo\n"</span><span style="color: #ff98a4;">)</span>;
        sleep<span style="color: #ff98a4;">(</span>2<span style="color: #ff98a4;">)</span>; <span style="color: #7a88cf;">// </span><span style="color: #7a88cf;">Simula un proceso en espera (bloqueado)</span>
        printf<span style="color: #ff98a4;">(</span><span style="color: #c3e88d;">"Estado: Terminado - Proceso hijo\n"</span><span style="color: #ff98a4;">)</span>;
        exit<span style="color: #ff98a4;">(</span>0<span style="color: #ff98a4;">)</span>;
    <span style="color: #ff995e;">}</span> <span style="color: #c099ff;">else</span> <span style="color: #ff995e;">{</span>
        printf<span style="color: #ff98a4;">(</span><span style="color: #c3e88d;">"Estado: Listo - Proceso padre\n"</span><span style="color: #ff98a4;">)</span>;
        wait<span style="color: #ff98a4;">(</span><span style="color: #ff995e;">NULL</span><span style="color: #ff98a4;">)</span>; <span style="color: #7a88cf;">// </span><span style="color: #7a88cf;">Espera a que el proceso hijo finalice</span>
        printf<span style="color: #ff98a4;">(</span><span style="color: #c3e88d;">"Estado: Terminado - Proceso padre\n"</span><span style="color: #ff98a4;">)</span>;
    <span style="color: #ff995e;">}</span>
    <span style="color: #c099ff;">return</span> 0;
<span style="color: #c099ff;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orged1ce32" class="outline-2">
<h2 id="orged1ce32">Procesos ligeros: Hilos o hebras</h2>
<div class="outline-text-2" id="text-orged1ce32">
<p>
Un proceso ligero o hilo es una unidad de ejecución que comparte el mismo espacio de memoria que otros hilos dentro del mismo proceso. Los hilos permiten paralelizar tareas en un programa y mejorar la eficiencia sin crear procesos separados. Los sistemas operativos modernos proporcionan bibliotecas como POSIX threads (pthreads) para crear y gestionar hilos.
</p>
</div>

<div id="outline-container-orgd41d68a" class="outline-3">
<h3 id="orgd41d68a">Ejemplo en C: Creación de hilos con pthread</h3>
<div class="outline-text-3" id="text-orgd41d68a">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">pthread.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">stdio.h</span><span style="color: #c099ff;">&gt;</span>

<span style="color: #ffc777;">void</span>* <span style="color: #82aaff;">tarea</span><span style="color: #c099ff;">(</span><span style="color: #ffc777;">void</span>* <span style="color: #ff98a4;">arg</span><span style="color: #c099ff;">)</span> <span style="color: #c099ff;">{</span>
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Hilo en ejecuci&#243;n\n"</span><span style="color: #ff995e;">)</span>;
    <span style="color: #c099ff;">return</span> <span style="color: #ff995e;">NULL</span>;
<span style="color: #c099ff;">}</span>

<span style="color: #ffc777;">int</span> <span style="color: #82aaff;">main</span><span style="color: #c099ff;">()</span> <span style="color: #c099ff;">{</span>
    <span style="color: #ffc777;">pthread_t</span> <span style="color: #ff98a4;">hilo1</span>, <span style="color: #ff98a4;">hilo2</span>;
    pthread_create<span style="color: #ff995e;">(</span>&amp;hilo1, <span style="color: #ff995e;">NULL</span>, tarea, <span style="color: #ff995e;">NULL</span><span style="color: #ff995e;">)</span>;
    pthread_create<span style="color: #ff995e;">(</span>&amp;hilo2, <span style="color: #ff995e;">NULL</span>, tarea, <span style="color: #ff995e;">NULL</span><span style="color: #ff995e;">)</span>;

    pthread_join<span style="color: #ff995e;">(</span>hilo1, <span style="color: #ff995e;">NULL</span><span style="color: #ff995e;">)</span>;
    pthread_join<span style="color: #ff995e;">(</span>hilo2, <span style="color: #ff995e;">NULL</span><span style="color: #ff995e;">)</span>;
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Todos los hilos han terminado\n"</span><span style="color: #ff995e;">)</span>;
    <span style="color: #c099ff;">return</span> 0;
<span style="color: #c099ff;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org52ad806" class="outline-2">
<h2 id="org52ad806">Concurrencia y secuenciabilidad</h2>
<div class="outline-text-2" id="text-org52ad806">
<p>
La concurrencia permite ejecutar múltiples tareas "simultáneamente". Aunque no siempre se ejecutan al mismo tiempo, se pueden intercalar en un mismo procesador mediante interrupciones y cambios de contexto. La secuenciabilidad define un orden en estas tareas concurrentes, permitiendo que se ejecute un bloque de código mientras otro espera, garantizando la sincronización.
</p>
</div>

<div id="outline-container-orgef7ef7a" class="outline-3">
<h3 id="orgef7ef7a">Ejemplo en C: Concurrencia y sincronización de tareas</h3>
<div class="outline-text-3" id="text-orgef7ef7a">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">pthread.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">stdio.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">unistd.h</span><span style="color: #c099ff;">&gt;</span>

<span style="color: #ffc777;">void</span>* <span style="color: #82aaff;">tarea1</span><span style="color: #c099ff;">(</span><span style="color: #ffc777;">void</span>* <span style="color: #ff98a4;">arg</span><span style="color: #c099ff;">)</span> <span style="color: #c099ff;">{</span>
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Inicio de tarea 1\n"</span><span style="color: #ff995e;">)</span>;
    sleep<span style="color: #ff995e;">(</span>1<span style="color: #ff995e;">)</span>;
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Fin de tarea 1\n"</span><span style="color: #ff995e;">)</span>;
    <span style="color: #c099ff;">return</span> <span style="color: #ff995e;">NULL</span>;
<span style="color: #c099ff;">}</span>

<span style="color: #ffc777;">void</span>* <span style="color: #82aaff;">tarea2</span><span style="color: #c099ff;">(</span><span style="color: #ffc777;">void</span>* <span style="color: #ff98a4;">arg</span><span style="color: #c099ff;">)</span> <span style="color: #c099ff;">{</span>
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Inicio de tarea 2\n"</span><span style="color: #ff995e;">)</span>;
    sleep<span style="color: #ff995e;">(</span>1<span style="color: #ff995e;">)</span>;
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Fin de tarea 2\n"</span><span style="color: #ff995e;">)</span>;
    <span style="color: #c099ff;">return</span> <span style="color: #ff995e;">NULL</span>;
<span style="color: #c099ff;">}</span>

<span style="color: #ffc777;">int</span> <span style="color: #82aaff;">main</span><span style="color: #c099ff;">()</span> <span style="color: #c099ff;">{</span>
    <span style="color: #ffc777;">pthread_t</span> <span style="color: #ff98a4;">hilo1</span>, <span style="color: #ff98a4;">hilo2</span>;
    pthread_create<span style="color: #ff995e;">(</span>&amp;hilo1, <span style="color: #ff995e;">NULL</span>, tarea1, <span style="color: #ff995e;">NULL</span><span style="color: #ff995e;">)</span>;
    pthread_create<span style="color: #ff995e;">(</span>&amp;hilo2, <span style="color: #ff995e;">NULL</span>, tarea2, <span style="color: #ff995e;">NULL</span><span style="color: #ff995e;">)</span>;

    pthread_join<span style="color: #ff995e;">(</span>hilo1, <span style="color: #ff995e;">NULL</span><span style="color: #ff995e;">)</span>;
    pthread_join<span style="color: #ff995e;">(</span>hilo2, <span style="color: #ff995e;">NULL</span><span style="color: #ff995e;">)</span>;
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Ambas tareas han terminado de forma concurrente\n"</span><span style="color: #ff995e;">)</span>;
    <span style="color: #c099ff;">return</span> 0;
<span style="color: #c099ff;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0a0836c" class="outline-2">
<h2 id="org0a0836c">Niveles, objetivos y criterios de planificación</h2>
<div class="outline-text-2" id="text-org0a0836c">
<p>
La planificación es el proceso de asignar recursos del sistema a los procesos. Existen varios niveles:
</p>
<ul class="org-ul">
<li><b><b>Planificación a largo plazo</b></b>: Selecciona qué procesos ingresar al sistema.</li>
<li><b><b>Planificación a medio plazo</b></b>: Decide qué procesos en espera se vuelven listos.</li>
<li><b><b>Planificación a corto plazo</b></b>: Selecciona qué proceso listo ocupará la CPU.</li>
</ul>

<p>
Los criterios de planificación pueden incluir la equidad, la eficiencia y el tiempo de respuesta.
</p>
</div>

<div id="outline-container-org4bc7295" class="outline-3">
<h3 id="org4bc7295">Ejemplo en C: Implementación simple de planificación Round Robin</h3>
<div class="outline-text-3" id="text-org4bc7295">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">stdio.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">unistd.h</span><span style="color: #c099ff;">&gt;</span>

<span style="color: #ffc777;">void</span> <span style="color: #82aaff;">proceso</span><span style="color: #c099ff;">(</span><span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">id</span><span style="color: #c099ff;">)</span> <span style="color: #c099ff;">{</span>
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Proceso %d en ejecuci&#243;n\n"</span>, id<span style="color: #ff995e;">)</span>;
    sleep<span style="color: #ff995e;">(</span>1<span style="color: #ff995e;">)</span>; <span style="color: #7a88cf;">// </span><span style="color: #7a88cf;">Tiempo simulado de ejecuci&#243;n del proceso</span>
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Proceso %d terminado\n"</span>, id<span style="color: #ff995e;">)</span>;
<span style="color: #c099ff;">}</span>

<span style="color: #ffc777;">int</span> <span style="color: #82aaff;">main</span><span style="color: #c099ff;">()</span> <span style="color: #c099ff;">{</span>
    <span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">n_procesos</span> = 3;
    <span style="color: #c099ff;">for</span> <span style="color: #ff995e;">(</span><span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">i</span> = 0; i &lt; n_procesos; i++<span style="color: #ff995e;">)</span> <span style="color: #ff995e;">{</span>
        proceso<span style="color: #ff98a4;">(</span>i<span style="color: #ff98a4;">)</span>;
    <span style="color: #ff995e;">}</span>
    <span style="color: #c099ff;">return</span> 0;
<span style="color: #c099ff;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgea1f3b8" class="outline-2">
<h2 id="orgea1f3b8">Técnicas de administración del planificador</h2>
<div class="outline-text-2" id="text-orgea1f3b8">
<p>
El planificador utiliza varias técnicas para mejorar la gestión de procesos:
</p>
<ul class="org-ul">
<li><b><b>Round Robin</b></b>: Asigna a cada proceso una franja de tiempo.</li>
<li><b><b>Prioridad</b></b>: Da preferencia a procesos con alta prioridad.</li>
<li><b><b>Planificación en tiempo real</b></b>: Asegura que tareas críticas se ejecuten en el momento correcto.</li>
</ul>
</div>

<div id="outline-container-org2e57998" class="outline-3">
<h3 id="org2e57998">Ejemplo en C: Planificación simple basada en prioridades</h3>
<div class="outline-text-3" id="text-org2e57998">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">stdio.h</span><span style="color: #c099ff;">&gt;</span>
<span style="color: #86e1fc; font-weight: bold;">#include</span> <span style="color: #c099ff;">&lt;</span><span style="color: #c3e88d;">stdlib.h</span><span style="color: #c099ff;">&gt;</span>

<span style="color: #c099ff;">typedef</span> <span style="color: #c099ff;">struct</span> <span style="color: #c099ff;">{</span>
    <span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">id</span>;
    <span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">prioridad</span>;
<span style="color: #c099ff;">}</span> <span style="color: #ffc777;">Proceso</span>;

<span style="color: #ffc777;">void</span> <span style="color: #82aaff;">ejecutar</span><span style="color: #c099ff;">(</span><span style="color: #ffc777;">Proceso</span> <span style="color: #ff98a4;">p</span><span style="color: #c099ff;">)</span> <span style="color: #c099ff;">{</span>
    printf<span style="color: #ff995e;">(</span><span style="color: #c3e88d;">"Ejecutando proceso %d con prioridad %d\n"</span>, p.id, p.prioridad<span style="color: #ff995e;">)</span>;
<span style="color: #c099ff;">}</span>

<span style="color: #ffc777;">int</span> <span style="color: #82aaff;">main</span><span style="color: #c099ff;">()</span> <span style="color: #c099ff;">{</span>
    <span style="color: #ffc777;">Proceso</span> <span style="color: #ff98a4;">procesos</span><span style="color: #ff995e;">[]</span> = <span style="color: #ff995e;">{</span><span style="color: #ff98a4;">{</span>1, 2<span style="color: #ff98a4;">}</span>, <span style="color: #ff98a4;">{</span>2, 1<span style="color: #ff98a4;">}</span>, <span style="color: #ff98a4;">{</span>3, 3<span style="color: #ff98a4;">}</span><span style="color: #ff995e;">}</span>;
    <span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">n</span> = <span style="color: #c099ff;">sizeof</span><span style="color: #ff995e;">(</span>procesos<span style="color: #ff995e;">)</span> / <span style="color: #c099ff;">sizeof</span><span style="color: #ff995e;">(</span>procesos<span style="color: #ff98a4;">[</span>0<span style="color: #ff98a4;">]</span><span style="color: #ff995e;">)</span>;

    <span style="color: #7a88cf;">// </span><span style="color: #7a88cf;">Ordenar procesos por prioridad</span>
    <span style="color: #c099ff;">for</span> <span style="color: #ff995e;">(</span><span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">i</span> = 0; i &lt; n - 1; i++<span style="color: #ff995e;">)</span> <span style="color: #ff995e;">{</span>
        <span style="color: #c099ff;">for</span> <span style="color: #ff98a4;">(</span><span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">j</span> = i + 1; j &lt; n; j++<span style="color: #ff98a4;">)</span> <span style="color: #ff98a4;">{</span>
            <span style="color: #c099ff;">if</span> <span style="color: #b4f9f8;">(</span>procesos<span style="color: #f989d3;">[</span>i<span style="color: #f989d3;">]</span>.prioridad &gt; procesos<span style="color: #f989d3;">[</span>j<span style="color: #f989d3;">]</span>.prioridad<span style="color: #b4f9f8;">)</span> <span style="color: #b4f9f8;">{</span>
                <span style="color: #ffc777;">Proceso</span> <span style="color: #ff98a4;">temp</span> = procesos<span style="color: #f989d3;">[</span>i<span style="color: #f989d3;">]</span>;
                procesos<span style="color: #f989d3;">[</span>i<span style="color: #f989d3;">]</span> = procesos<span style="color: #f989d3;">[</span>j<span style="color: #f989d3;">]</span>;
                procesos<span style="color: #f989d3;">[</span>j<span style="color: #f989d3;">]</span> = temp;
            <span style="color: #b4f9f8;">}</span>
        <span style="color: #ff98a4;">}</span>
    <span style="color: #ff995e;">}</span>

    <span style="color: #c099ff;">for</span> <span style="color: #ff995e;">(</span><span style="color: #ffc777;">int</span> <span style="color: #ff98a4;">i</span> = 0; i &lt; n; i++<span style="color: #ff995e;">)</span> <span style="color: #ff995e;">{</span>
        ejecutar<span style="color: #ff98a4;">(</span>procesos<span style="color: #b4f9f8;">[</span>i<span style="color: #b4f9f8;">]</span><span style="color: #ff98a4;">)</span>;
    <span style="color: #ff995e;">}</span>

    <span style="color: #c099ff;">return</span> 0;
<span style="color: #c099ff;">}</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Autor: likcos</p>
<p class="date">Created: 2024-10-29 mar 12:56</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
